#!/usr/bin/env bash
# File       : make_sz
# Created    : Fri Jul 21 2017 03:46:12 PM (+0200)
# Author     : Fabian Wermelinger
# Description: Build sz library
# Copyright 2017 ETH Zurich. All Rights Reserved.
BUILD="$(pwd -P)/build"
if [[ "$#" -eq 1 ]]; then
    BUILD="$1"
else
    rm -rf build
    mkdir -p build
fi

# SZ
if [[ ! -d "./src" ]]; then
    git clone https://github.com/disheng222/SZ.git src
fi
cd src
./configure --prefix=${BUILD} --disable-shared
make -j4
make install
make clean
